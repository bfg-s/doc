<?phpnamespace Bfg\Doc\Core\Listeners;use Bfg\Doc\Core\DataForGenerate;/** * Class UpdateClassDoc * @package Bfg\Doc\Core\Listeners */class UpdateClassDoc{    /**     * Handle the event.     *     * @param  DataForGenerate  $event     * @return void     */    public function handle(DataForGenerate $event)    {        $event->data->map([$this, 'eachClass']);    }    /**     * @param  array  $data     * @return array     */    public function eachClass(array $data): array    {        $done_doc = "/**\n ".implode("\n ", $data['doc']['doc'] ?: ["*"])."\n */";        if ($data['doc_header']) {            $done_header = str_replace($data['doc_header'], $done_doc, $data['class_header']);            file_put_contents(                $data['file'], str_replace($data['class_header'], $done_header, file_get_contents($data['file']))            );        } else {            file_put_contents(                $data['file'], str_replace($data['class_header'], $data['class_header'].$done_doc."\n",                    file_get_contents($data['file']))            );        }        return $data;    }}